#!/bin/bash
# Installation:
#  Copy to /etc/bash_completion.d/n98-magerun
# or
#  Append to ~/.bash_completion
#

_n98-magerun()
{
    local cur prev opts
    COMPREPLY=()
    cur="${COMP_WORDS[COMP_CWORD]}"
    prev="${COMP_WORDS[COMP_CWORD-1]}"

    _get_comp_words_by_ref -n : cur prev

    case "${prev}" in
        n98-magerun.phar)
            opts="help install list open-browser script self-update shell uninstall admin:notifications admin:user:change-password admin:user:create admin:user:delete admin:user:list cache:clean cache:disable cache:enable cache:flush cache:list cache:report cache:view composer:diagnose composer:init composer:install composer:require composer:search composer:update composer:validate config:delete config:dump config:get config:search config:set customer:change-password customer:create customer:create:dummy customer:delete customer:info customer:list db:console db:create db:drop db:dump db:import db:info db:maintain:check-tables db:query design:demo-notice dev:class:lookup dev:code:model:method dev:console dev:ide:phpstorm:meta dev:log dev:log:db dev:log:size dev:module:create dev:module:dependencies:from dev:module:dependencies:on dev:module:list dev:module:observer:list dev:module:rewrite:conflicts dev:module:rewrite:list dev:profiler dev:report:count dev:setup:script:attribute dev:symlinks dev:template-hints dev:template-hints-blocks dev:theme:duplicates dev:theme:list dev:translate:admin dev:translate:export dev:translate:set dev:translate:shop eav:attribute:list eav:attribute:remove eav:attribute:view extension:download extension:install extension:list extension:upgrade extension:validate index:list index:reindex index:reindex:all local-config:generate media:dump script:repo:list script:repo:run sys:check sys:cron:history sys:cron:list sys:cron:run sys:info sys:maintenance sys:setup:change-version sys:setup:compare-versions sys:setup:incremental sys:setup:remove sys:setup:run sys:store:config:base-url:list sys:store:list sys:url:list sys:website:list"
            ;;
    esac
    COMPREPLY=( $(compgen -W "${opts}" -- ${cur}) )
    __ltrim_colon_completions "$cur"
    return 0
}


complete -F _n98-magerun n98-magerun.phar
complete -F _n98-magerun n98-magerun
complete -F _n98-magerun magerun
